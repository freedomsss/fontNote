// const stage = [2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,4,4,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2];
const stage = [1,2,2,2,2,3];
const stageTimes = [1547000363,1547000395,1547000428,1547000460,1547000493,1547000525,1547000558,1547000590,1547000622,1547000655,1547000687,1547000720,1547000752,1547000785,1547000817,1547000850,1547000882,1547000914,1547000947,1547000979,1547001012,1547001044,1547001076,1547001109,1547001142,1547001174,1547001206,1547001239,1547001271,1547001303,1547001336,1547001368,1547001401,1547001433,1547001466,1547001498,1547001530,1547001563,1547001595,1547001628,1547001660,1547001693,1547001725,1547001758,1547001790,1547001822,1547001855,1547001888,1547001920,1547001953,1547001985,1547002017,1547002050,1547002083,1547002115,1547002147,1547002180,1547002212,1547002245,1547002277,1547002309,1547002342,1547002374,1547002407,1547002439,1547002471,1547002504,1547002537,1547002569,1547002601,1547002634,1547002666,1547002699,1547002731,1547002764,1547002796,1547002828,1547002861,1547002893,1547002926,1547002958,1547002991,1547003023,1547003056,1547003088,1547003121,1547003153,1547003186,1547003218,1547003251,1547003283,1547003316,1547003348,1547003381,1547003413,1547003445,1547003478,1547003511,1547003543,1547003575,1547003608,1547003640,1547003673,1547003706,1547003738,1547003770,1547003803,1547003835,1547003868,1547003900,1547003933,1547003965,1547003998,1547004030,1547004062,1547004095,1547004127,1547004160,1547004192,1547004225,1547004257,1547004290,1547004322,1547004355,1547004387,1547004420,1547004452,1547004485,1547004517,1547004550,1547004582,1547004615,1547004647,1547004680,1547004712,1547004745,1547004777,1547004810,1547004842,1547004875,1547004907,1547004940,1547004972,1547005005,1547005037,1547005070,1547005102,1547005135,1547005167,1547005200,1547005232,1547005265,1547005297,1547005330,1547005362,1547005394,1547005427,1547005460,1547005492,1547005524,1547005557,1547005589,1547005622,1547005655,1547005687,1547005719,1547005752,1547005784,1547005817,1547005850,1547005882,1547005915,1547005947,1547005979,1547006012,1547006045,1547006077,1547006110,1547006142,1547006174,1547006207,1547006239,1547006272,1547006305,1547006337,1547006370,1547006402,1547006435,1547006467,1547006499,1547006532,1547006565,1547006597,1547006630,1547006662,1547006695,1547006727,1547006760,1547006792,1547006824,1547006857,1547006890,1547006922,1547006955,1547006987,1547007020,1547007052,1547007085,1547007117,1547007150,1547007183,1547007215,1547007247,1547007280,1547007312,1547007345,1547007378,1547007410,1547007443,1547007475,1547007508,1547007540,1547007573,1547007605,1547007638,1547007670,1547007703,1547007736,1547007768,1547007801,1547007833,1547007866,1547007898,1547007931,1547007963,1547007995,1547008028,1547008061,1547008093,1547008126,1547008158,1547008191,1547008223,1547008256,1547008288,1547008321,1547008353,1547008386,1547008419,1547008451,1547008484,1547008516,1547008548,1547008581,1547008614,1547008646,1547008679,1547008711,1547008744,1547008776,1547008809,1547008841,1547008874,1547008906,1547008939,1547008971,1547009004,1547009036,1547009069,1547009101,1547009134,1547009167,1547009199,1547009232,1547009264,1547009297,1547009329,1547009361,1547009394,1547009426,1547009459,1547009492,1547009524,1547009557,1547009589,1547009622,1547009654,1547009687,1547009719,1547009752,1547009784,1547009817,1547009850,1547009882,1547009915,1547009947,1547009979,1547010012,1547010045,1547010077,1547010110,1547010142,1547010175,1547010207,1547010240,1547010272,1547010305,1547010337,1547010370,1547010402,1547010435,1547010467,1547010500,1547010532,1547010565,1547010597,1547010630,1547010663,1547010695,1547010728,1547010760,1547010793,1547010825,1547010858,1547010890,1547010922,1547010955,1547010988,1547011020,1547011053,1547011085,1547011118,1547011150,1547011183,1547011215,1547011248,1547011281,1547011313,1547011346,1547011378,1547011411,1547011443,1547011476,1547011508,1547011541,1547011573,1547011606,1547011639,1547011671,1547011704,1547011736,1547011769,1547011801,1547011833,1547011866,1547011899,1547011931,1547011964,1547011997,1547012029,1547012062,1547012094,1547012126,1547012159,1547012191,1547012224,1547012257,1547012289,1547012322,1547012354,1547012387,1547012419,1547012452,1547012484,1547012517,1547012549,1547012582,1547012615,1547012647,1547012680,1547012713,1547012745,1547012778,1547012810,1547012843,1547012875,1547012908,1547012940,1547012973,1547013005,1547013038,1547013071,1547013103,1547013136,1547013168,1547013201,1547013233,1547013266,1547013299,1547013331,1547013364,1547013396,1547013429,1547013461,1547013494,1547013526,1547013559,1547013592,1547013624,1547013657,1547013689,1547013722,1547013755,1547013787,1547013820,1547013852,1547013885,1547013917,1547013950,1547013982,1547014015,1547014047,1547014080,1547014112,1547014145,1547014178,1547014210,1547014243,1547014276,1547014308,1547014341,1547014373,1547014406,1547014438,1547014471,1547014503,1547014536,1547014569,1547014601,1547014634,1547014666,1547014699,1547014732,1547014764,1547014797,1547014829,1547014862,1547014894,1547014927,1547014959,1547014992,1547015024,1547015057,1547015089,1547015122,1547015155,1547015187,1547015220,1547015253,1547015285,1547015318,1547015350,1547015382,1547015415,1547015448,1547015480,1547015513,1547015545,1547015578,1547015611,1547015643,1547015676,1547015708,1547015741,1547015774,1547015806,1547015839,1547015871,1547015904,1547015936,1547015969,1547016001,1547016034,1547016067,1547016099,1547016132,1547016165,1547016197,1547016230,1547016262,1547016295,1547016328,1547016360,1547016393,1547016425,1547016458,1547016490,1547016523,1547016556,1547016588,1547016621,1547016653,1547016686,1547016718,1547016751,1547016784,1547016816,1547016849,1547016881,1547016914,1547016947,1547016979,1547017012,1547017045,1547017077,1547017110,1547017142,1547017175,1547017208,1547017240,1547017273,1547017305,1547017338,1547017371,1547017403,1547017436,1547017468,1547017501,1547017534,1547017566,1547017599,1547017631,1547017664,1547017697,1547017729,1547017762,1547017794,1547017827,1547017860,1547017892,1547017925,1547017957,1547017990,1547018023,1547018055,1547018088,1547018121,1547018153,1547018186,1547018219,1547018251,1547018284,1547018316,1547018349,1547018382,1547018414,1547018447,1547018480,1547018512,1547018545,1547018577,1547018610,1547018643,1547018675,1547018708,1547018740,1547018773,1547018806,1547018838,1547018871,1547018904,1547018936,1547018969,1547019001,1547019034,1547019067,1547019099,1547019132,1547019165,1547019197,1547019230,1547019263,1547019295,1547019328,1547019361,1547019393,1547019426,1547019458,1547019491,1547019523,1547019556,1547019589,1547019621,1547019654,1547019686,1547019719,1547019752,1547019784,1547019817,1547019849,1547019882,1547019915,1547019947,1547019980,1547020013,1547020045,1547020078,1547020111,1547020143,1547020176,1547020208,1547020241,1547020274,1547020306,1547020339,1547020371,1547020404,1547020437,1547020469,1547020502,1547020535,1547020567,1547020600,1547020632,1547020665,1547020698,1547020730,1547020763,1547020795,1547020828,1547020860,1547020893,1547020926,1547020958,1547020991,1547021023,1547021056,1547021089,1547021121,1547021154,1547021186,1547021219,1547021252,1547021284,1547021317,1547021350,1547021382,1547021415,1547021448,1547021480,1547021513,1547021546,1547021578,1547021611,1547021643,1547021676,1547021709,1547021741,1547021774,1547021807,1547021839,1547021872,1547021904,1547021937,1547021969,1547022002,1547022035,1547022067,1547022100,1547022133,1547022165,1547022198,1547022231,1547022263,1547022296,1547022328,1547022361,1547022394,1547022426,1547022459,1547022491,1547022524,1547022557,1547022589,1547022622,1547022654,1547022687,1547022720,1547022752,1547022785,1547022817,1547022850,1547022883,1547022915,1547022948,1547022981,1547023013,1547023046,1547023079,1547023111,1547023144,1547023176,1547023209,1547023241,1547023274,1547023307,1547023339,1547023372,1547023405,1547023437,1547023470,1547023503,1547023535,1547023568,1547023601,1547023633,1547023666,1547023698,1547023731,1547023764,1547023796,1547023829,1547023862,1547023894,1547023927,1547023960,1547023992,1547024025,1547024057,1547024090,1547024123,1547024155,1547024188,1547024221,1547024253,1547024286,1547024319,1547024351,1547024384,1547024416,1547024449,1547024482,1547024514,1547024547,1547024580,1547024612,1547024645,1547024678,1547024710,1547024743,1547024776,1547024808,1547024841,1547024874,1547024906,1547024939,1547024972,1547025004,1547025037,1547025070,1547025102,1547025135,1547025168];
// console.log(11);
let stageNew = [];
let stageTimesNew = [];
let indexs = [];
let currentIndex = 0;
function getIndex(currentIndex){
  indexs.push(currentIndex);
  let currentTag = stage[currentIndex];
  for (let j = currentIndex;j<stage.length;j++) {
    if (stage[j] !== currentTag) {
      if ((j-1) !== currentIndex) {
        indexs.push(j-1);
      }
      currentIndex = j;
      getIndex(j);
      break;
    } else {
      if (j === stage.length - 1 && j !== currentIndex) {
        indexs.push(stage.length - 1);
      }
    }
  }
}
getIndex(currentIndex);
console.log(indexs);

for (let j=0;j<indexs.length;j++) {
  stageNew.push(stage[indexs[j]])
}
console.log(stageNew);

let stageTimesNew2 = [];
let tag = 0;
for (let i = 0; i < stage.length; i++) {
  if (i === 0) {
    stageTimesNew2.push(stage[i])
  } else {
    if (stage[i] !== stage[i-1]) {
      if (tag + 1 !== i) {
        stageTimesNew2.push(stage[i-1]);
      }
      tag = i;
      stageTimesNew2.push(stage[i]);
    } else {
      if (i === stage.length - 1) {
        stageTimesNew2.push(stage[i]);
      }
    }
  }
}
console.log(stageTimesNew2);
// console.log('test',null + 1);

// console.log(Number(01))

// //得到某一日期的前一天 后一天 n可以正负数
// function dateAdd(dd,n){
//   var strs= new Array();
//   strs = dd.split("-");
//   var y = strs[0];
//   var m = strs[1];
//   var d = strs[2];
//   var t = new Date(y,m-1,d);
//   var str = t.getTime()+n*(1000*60*60*24);
//   var newdate = new Date();
//   newdate.setTime(str);
//   var strYear=newdate.getFullYear();
//   var strDay=newdate.getDate();
//   if(strDay < 10){
//     strDay = "0"+strDay;
//   }
//   var strMonth=newdate.getMonth()+1;
//   if(strMonth < 10){
//     strMonth = "0"+strMonth;
//   }
//   var strdate=strYear+"-"+strMonth+"-"+strDay;
//   return strdate;
// }
//
// console.log(dateAdd('2014-01-01', 0));



// //用自执行函数进行包裹
// for(var i=1; i<=3; i++){
//   !function(i){
//     setTimeout(function(){
//       console.log(i); //输出的结果为1，2，3
//     },1000 * i);
//   }(i)
// }

// var a=1; //声明了一个全局变量
// function func(){
//   console.log(a); //输出：undefined。打印a，而在func这个作用域中已经声明了a变量，按照js的执行顺序，此时的a并未被赋值。
//   var a=1;
//   console.log(a); //输出：1。
// }
// func();
